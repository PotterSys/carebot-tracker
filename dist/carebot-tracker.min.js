/*! carebot-tracker - v0.1.0 - 2016-02-04 */
!function(a){"function"==typeof define&&define.amd?define(a):"undefined"!=typeof module&&module.exports?module.exports=a():window.CarebotTracker=a.call(this)}(function(){var a={};return a.Timer=function(a){function b(a){var b,c;if(60>a){var d=10*Math.floor(a/10);c=d.toString()+"s"}else if(a>=60&&300>a)b=Math.floor(a/60),c=b.toString()+"m";else{b=Math.floor(a/60);var e=5*Math.floor(b/5);c=e.toString()+"m"}return c}function c(a){if(!a)return 0;var b=new Date,c=Math.abs(b-a),d=Math.floor(c/1e3);return d}function d(a){var d=c(a)+l,e=b(d);return{bucket:e,seconds:d}}function e(){return d(i)}function f(){var b=d(i);b.bucket!==j&&(a(b),j=b.bucket)}function g(){i=new Date,a&&(k=setInterval(f,1e4))}function h(){l=c(i)+l,clearInterval(k),i=void 0}var i,j,k,l=0;return{start:g,pause:h,check:e}}.bind(this),a.VisibilityTracker=function(b,c,d){function e(a){var b=a.getBoundingClientRect(),c=window.innerWidth||document.documentElement.clientWidth,d=window.innerHeight||document.documentElement.clientHeight,e=function(a,b){return document.elementFromPoint(a,b)};return b.right<0||b.bottom<0||b.left>c||b.top>d?!1:a.contains(e(b.left,b.top))||a.contains(e(b.right,b.top))||a.contains(e(b.right,b.bottom))||a.contains(e(b.left,b.bottom))}function f(){var a=e(j);return k&&!a&&(l.pause(),console.log(l.check())),!k&&a&&l.start(),k=a,a}function g(){h&&window.clearTimeout(h),h=window.setTimeout(f,i)}var h,i=50,j=document.getElementById(b),k=!1,l=new a.Timer;d=d||{},window.addEventListener?(addEventListener("DOMContentLoaded",g,!1),addEventListener("load",g,!1),addEventListener("scroll",g,!1),addEventListener("resize",g,!1)):window.attachEvent&&(attachEvent("onDOMContentLoaded",g),attachEvent("onload",g),attachEvent("onscroll",g),attachEvent("onresize",g))},a});